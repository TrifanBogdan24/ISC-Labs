<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head> <title>libcurl example - simple.c</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<link rel="stylesheet" type="text/css" href="/curl.css">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" href="/logo/curl-symbol.svg" type="image/svg+xml">
<link rel="alternate" type="application/rss+xml" title="cURL Releases" href="https://github.com/curl/curl/releases.atom">
</head>
<body>
<div class="main">
<div class="menu">
<a href="/libcurl/c/libcurl.html" class="menuitem" title="Overview">API Overview</a>
<div class="dropdown">
  <a class="dropbtn" href="/libcurl/c/">Docs</a>
  <div class="dropdown-content">
    <a href="/libcurl/c/libcurl-easy.html">API: easy</a>
    <a href="/libcurl/c/libcurl-multi.html">API: multi</a>
    <a href="/libcurl/c/libcurl-share.html">API: share</a>
    <a href="/libcurl/c/libcurl-url.html">API: URL</a>
    <a href="/libcurl/c/libcurl-ws.html">API: WebSocket</a>
    <a href="/libcurl/c/libcurl-env.html">Environment vars</a>
    <a href="/libcurl/c/libcurl-errors.html">Errors</a>
    <a href="/libcurl/c/example.html">Examples</a>
    <a href="/libcurl/security.html">Security</a>
    <a href="/libcurl/c/symbols-in-versions.html">Symbols</a>
    <a href="/libcurl/c/libcurl-tutorial.html">Tutorial</a>
    <hr>
    <a href="/libcurl/c/easy_setopt_options.html">easy setopt options</a>
    <a href="/libcurl/c/easy_getinfo_options.html">easy getinfo options</a>
    <a href="/libcurl/c/multi_setopt_options.html">multi setopt options</a>
    <a href="/libcurl/c/tls-options.html">TLS options</a>
  </div>
</div>
<div class="dropdown">
  <a class="dropbtn" href="/libcurl/c/">Functions</a>
  <div class="dropdown-content">
    <a href="/libcurl/c/allfuncs.html">All functions</a>
    <a href="/libcurl/c/curl_easy_getinfo.html">curl_easy_getinfo</a>
    <a href="/libcurl/c/curl_easy_init.html">curl_easy_init</a>
    <a href="/libcurl/c/curl_easy_perform.html">curl_easy_perform</a>
    <a href="/libcurl/c/curl_easy_reset.html">curl_easy_reset</a>
    <a href="/libcurl/c/curl_easy_setopt.html">curl_easy_setopt</a>
    <a href="/libcurl/c/curl_multi_add_handle.html">curl_multi_add_handle</a>
    <a href="/libcurl/c/curl_multi_init.html">curl_multi_init</a>
    <a href="/libcurl/c/curl_multi_perform.html">curl_multi_perform</a>
    <a href="/libcurl/c/curl_multi_remove_handle.html">curl_multi_remove_handle</a>
    <a href="/libcurl/c/curl_multi_setopt.html">curl_multi_setopt</a>
  </div>
</div>
</div>
<div class="contents">
<div class="where"><a href="/">curl</a> / <a href="/libcurl/">libcurl</a> / <a href="/libcurl/c/">API</a> / <a href="/libcurl/c/example.html">Examples</a> / <b>simple.c</b></div>
<h1> simple.c </h1>
<div class="relatedbox">
<b>Related:</b>
<br><a href="allfuncs.html">All functions</a>
<br><a href="https://github.com/curl/curl/issues/new?title=simple.c%20example&amp;labels=documentation&amp;template=docs.yml" target="_new">File a bug</a>
<br><a href="symbols-in-versions.html">Symbols</a>
<br><a href="https://github.com/curl/curl/blob/master/docs/examples/simple.c" target="_new">View in git</a>
<br><a href="https://github.com/curl/curl/raw/master/docs/examples/simple.c">View raw</a>
</div>
<div>
<PRE>
<I><FONT COLOR="#B22222">/&#x2a;**************************************************************************
 *                                  _   _ ____  _
 *  Project                     ___| | | |  _ \| |
 *                             / __| | | | |_) | |
 *                            | (__| |_| |  _ &lt;| |___
 *                             \___|\___/|_| \_\_____|
 *
 * Copyright (C) Daniel Stenberg, &lt;daniel@haxx.se&gt;, et al.
 *
 * This software is licensed as described in the file COPYING, which
 * you should have received as part of this distribution. The terms
 * are also available at https://curl.se/docs/copyright.html.
 *
 * You may opt to use, copy, modify, merge, publish, distribute and/or sell
 * copies of the Software, and permit persons to whom the Software is
 * furnished to do so, under the terms of the COPYING file.
 *
 * This software is distributed on an &quot;AS IS&quot; basis, WITHOUT WARRANTY OF ANY
 * KIND, either express or implied.
 *
 * SPDX-License-Identifier: curl
 *
 **************************************************************************&#x2a;/</FONT></I>
<I><FONT COLOR="#B22222">/&#x2a; &lt;DESC&gt;
 * Very simple HTTP GET
 * &lt;/DESC&gt;
 &#x2a;/</FONT></I>
#<B ><FONT COLOR="#5F9EA0">include</FONT></B> <B><FONT COLOR="#BC8F8F">&lt;stdio.h&gt;</FONT></B>
#<B ><FONT COLOR="#5F9EA0">include</FONT></B> <B><FONT COLOR="#BC8F8F">&lt;curl/curl.h&gt;</FONT></B>
&nbsp;
<B><FONT COLOR="#228B22">int</FONT></B> <B><FONT COLOR="#0000FF">main</FONT></B>(<B><FONT COLOR="#228B22">void</FONT></B>)
{
  CURL *curl;
  CURLcode res;
&nbsp;
  curl = <a href="https://curl.se/libcurl/c/curl_easy_init.html">curl_easy_init</a>();
  <B><FONT COLOR="#A020F0">if</FONT></B>(curl) {
    <a href="https://curl.se/libcurl/c/curl_easy_setopt.html">curl_easy_setopt</a>(curl, <a href="https://curl.se/libcurl/c/CURLOPT_URL.html">CURLOPT_URL</a>, <B><FONT COLOR="#BC8F8F">&quot;https://example.com&quot;</FONT></B>);
    <I><FONT COLOR="#B22222">/&#x2a; example.com is redirected, so we tell libcurl to follow redirection &#x2a;/</FONT></I>
    <a href="https://curl.se/libcurl/c/curl_easy_setopt.html">curl_easy_setopt</a>(curl, <a href="https://curl.se/libcurl/c/CURLOPT_FOLLOWLOCATION.html">CURLOPT_FOLLOWLOCATION</a>, 1L);
&nbsp;
    <I><FONT COLOR="#B22222">/&#x2a; Perform the request, res gets the return code &#x2a;/</FONT></I>
    res = <a href="https://curl.se/libcurl/c/curl_easy_perform.html">curl_easy_perform</a>(curl);
    <I><FONT COLOR="#B22222">/&#x2a; Check for errors &#x2a;/</FONT></I>
    <B><FONT COLOR="#A020F0">if</FONT></B>(res != CURLE_OK)
      fprintf(stderr, <B><FONT COLOR="#BC8F8F">&quot;<a href="https://curl.se/libcurl/c/curl_easy_perform.html">curl_easy_perform</a>() failed: %s\n&quot;</FONT></B>,
              <a href="https://curl.se/libcurl/c/curl_easy_strerror.html">curl_easy_strerror</a>(res));
&nbsp;
    <I><FONT COLOR="#B22222">/&#x2a; always cleanup &#x2a;/</FONT></I>
    <a href="https://curl.se/libcurl/c/curl_easy_cleanup.html">curl_easy_cleanup</a>(curl);
  }
  <B><FONT COLOR="#A020F0">return</FONT></B> 0;
}
</PRE>
<h2>Notice</h2>
<div style="color: #000; background-color: #ffff80; padding: 8px 8px 8px 8px;">
This source code example is <strong>simplified</strong> and ignores return
codes and error checks to a large extent. We do this to highlight the libcurl
function calls and related options and reduce unrelated code.
<p>
A real-world application will of course properly check every return value and
exit correctly at the first serious error.
</div>
</div>
</div>
</body>
</html>
